<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>时钟</title>
</head>
<script>
//我们现在来做一个最简单的时钟，通过小练习来学习 Date，复习定时，然后再练习一下函数的封装
// 具体需求如下：
// 在页面中显示当前日期及时间，按秒更新
// 格式为 YYYY 年 MM 月 DD 日 星期 D HH:mm:ss
// 注意位数的补齐，比如：
// -- 假设时间为2008年10月10日星期一的12点12分12秒，显示2008年10月10日星期一 12:12:12
// -- 假设时间为2008年1月1日星期一的3点2分2秒，显示2008年01月01日星期一 03:02:02
// 编码过程中，我们希望你注意对函数的封装，尽量让一个函数就做一个事情，而不要把所有的功能、代码揉在一起：
// 封装一个函数，来根据某个日期返回这一天是星期几
// 封装一个函数，把月、日、小时等出现个位数的情况前面补充0，补充为两位，比如1变为01
// 封装一个函数，把最后的日期时间，按照要求的格式进行包装
// 可能不止上面这些，尽可能地进行功能的解耦和拆解
</script>
<body>
  <div id="clock"></div>
</body>
<script>
  function showTime(){
    let date = new Date();
    document.getElementById('clock').innerHTML = getTime(date);
    setInterval('showTime()',500);
  }
  showTime();
  function getTime(date){
    let y = date.getFullYear(),
        M = date.getMonth(),
        d = date.getDate(),
        h = date.getHours(),
        m = date.getMinutes(),
        s = date.getSeconds();
    M = getFullDig(M) + 1;
    d = getFullDig(d);
    h = getFullDig(h);
    m = getFullDig(m);
    s = getFullDig(s);
    // return y + '年' + M + '月' + d + '日' + getWeek(date) + h + ':' + m + ':' + s;

  }
  // 输出格式变为：2008-10-10 Monday 07:10:30 PM    三元表达式来设置星期的显示
  function getFullDig(val){
    if(val < 10){
      return '0' + val;
    }
    return val;
  }
  function getWeek(data){
    switch(data.getDay()){
      case 0:return '星期一';
      case 1:return '星期二';
      case 2:return '星期三';
      case 3:return '星期四';
      case 4:return '星期五';
      case 5:return '星期六';
      case 6:return '星期日';
    }
  }
</script>
</html>